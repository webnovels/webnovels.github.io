---
layout: default
---

<article class="novel-chapter">
  <header>
    <h1>{{ page.title }}</h1>
    {% if page.subtitle %}<h3>{{ page.subtitle }}</h3>{% endif %}
  </header>

  <div class="chapter-content">
    <div class="app-download-section">
      <h3>Continue Reading Full Content</h3>
      <p>Download App:{% if page.appname %}{{page.appname}}{% else %}NovelMaster{% endif %} to access more chapters</p>
      
      <div class="download-buttons">
        <a href="https://play.google.com/store/apps/details?id=com.master.novel"  
        onclick="copyToken();gtmTrackDownload('Android');" 
        class="download-btn android" 
        id="androidBtn"
        data-app-store="Google Play" 
        data-platform="Android"
        >
          <i class="icon-android"></i>
          Open {% if page.appname %}{{page.appname}}{% else %}NovelMaster{% endif %}
        </a>
        <a href="https://apps.apple.com/us/app/novel-master/id6446075788" 
        onclick="copyToken(); gtmTrackDownload('iOS');" 
        class="download-btn ios" 
        id="iosBtn" 
        data-app-store="App Store" 
        data-platform="iOS">
          <i class="icon-apple"></i>
          Open {% if page.appname %}{{page.appname}}{% else %}NovelMaster{% endif %}
        </a>
      </div>
      
      <div class="token-section">
        <p>Copy your exclusive token and search it in the App:{% if page.appname %}{{page.appname}}{% else %}NovelMaster{% endif %} for more chapters</p>
        <div class="token-container">
          <input type="text" readonly id="novelToken" value="{{ page.token  }}">
          <button onclick="copyToken(); gtmTrackDownload('TOKEN');" class="copy-btn">Copy Token</button>
        </div>
        <span id="copyMessage" class="copy-message">Token copied!</span>
      </div>

      <div>
        <!-- <p>This is <a href="https://www.profitableratecpm.com/qaf62advmj?key=2dfb73cf4ac5616bc770261fb337f7a2">an advertising link</a>. If you like this site, you can click to support it, which will support me to continue my efforts.</p> -->
      </div>
    </div>
  </div>

  

  <div class="chapter-navigation">
    {% if page.previous_chapter %}
      <a href="{{ page.previous_chapter | relative_url }}" class="prev-link">&laquo; Previous</a>
    {% endif %}
    
    <a href="{{ page.novel_index | relative_url }}" class="index-link">Contents</a>
    
    {% if page.next_chapter %}
      <a href="{{ page.next_chapter | relative_url }}" class="next-link">Next &raquo;</a>
    {% endif %}
  </div>
</article>
<script src="https://giscus.app/client.js"
        data-repo="webnovels/webnovels.github.io"
        data-repo-id="R_kgDOOYcaRg"
        data-category="Announcements"
        data-category-id="DIC_kwDOOYcaRs4CqtY2"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="1"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>
{%- include alsolike.html -%}
<div class="sharethis-inline-share-buttons"></div>
<style>
  .novel-chapter {
    max-width: 800px;
    margin: 0 auto;
    padding: 0px;
    line-height: 1.8;
  }
  
  .chapter-content {
    margin: 0;
    font-size: 1.1em;
  }
  
  .chapter-navigation {
    display: flex;
    justify-content: space-between;
    margin-top: 40px;
    padding-top: 20px;
    border-top: 1px solid #eee;
  }
  
  .chapter-navigation a {
    padding: 8px 16px;
    border: 1px solid #ddd;
    border-radius: 4px;
    text-decoration: none;
  }

  .download-buttons {
      display: flex;
      flex-direction: column;
      align-items: center; 
      gap: 20px;
      margin: 20px 0;
    }

    @media (min-width: 768px) {
      .download-buttons {
        flex-direction: row;
        justify-content: center;
        align-items: center;
      }
    }
    
    .download-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 10px 20px;
      background-color: #72d7ed;
      color: white;
      text-decoration: none;
      border-radius: 4px;
      font-weight: bold;
      transition: background-color 0.3s;
      width: 260px;
    }
    
    .download-btn:hover {
      background-color: #16b6da;
    }
    
    .icon-android, .icon-apple {
      display: inline-block;
      width: 20px;
      height: 20px;
      margin-right: 8px;
      background-size: contain;
      background-repeat: no-repeat;
    }
    
    .icon-android {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M17.6,9.48l1.84-3.18c0.16-0.31,0.04-0.69-0.26-0.85c-0.29-0.15-0.65-0.06-0.83,0.22l-1.88,3.24 c-2.86-1.21-6.08-1.21-8.94,0L5.65,5.67c-0.19-0.29-0.58-0.38-0.87-0.2C4.5,5.65,4.41,6.01,4.56,6.3L6.4,9.48 C3.3,11.25,1.28,14.44,1,18h22C22.72,14.44,20.7,11.25,17.6,9.48z M7,15.25c-0.69,0-1.25-0.56-1.25-1.25 c0-0.69,0.56-1.25,1.25-1.25S8.25,13.31,8.25,14C8.25,14.69,7.69,15.25,7,15.25z M17,15.25c-0.69,0-1.25-0.56-1.25-1.25 c0-0.69,0.56-1.25,1.25-1.25s1.25,0.56,1.25,1.25C18.25,14.69,17.69,15.25,17,15.25z'/%3E%3C/svg%3E");
    }
    
    .icon-apple {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M17.05,11.97 C17.02,9.46 19.04,8.11 19.15,8.03 C17.78,6.02 15.68,5.74 14.87,5.71 C13.09,5.53 11.42,6.72 10.51,6.72 C9.60,6.72 8.25,5.72 6.80,5.75 C4.77,5.77 2.92,6.87 1.88,8.65 C-0.24,12.33 1.55,17.95 3.57,20.85 C4.67,22.27 5.89,23.87 7.56,23.78 C9.17,23.69 9.80,22.75 11.71,22.75 C13.57,22.75 14.18,23.78 15.79,23.75 C17.49,23.70 18.62,22.34 19.58,20.84 C20.94,19.21 21.40,17.51 21.44,17.36 C21.36,17.33 17.29,15.63 17.05,11.97 Z M14.72,3.60 C15.12,3.07 15.39,2.35 15.33,1.60 C14.71,1.64 13.91,2.05 13.47,2.55 C13.09,2.99 12.75,3.72 12.84,4.45 C13.54,4.50 14.23,4.11 14.72,3.60 Z'/%3E%3C/svg%3E");
    }
    
    .token-section {
      margin-top: 20px;
    }
    
    .token-container {
      display: flex;
      justify-content: center;
      margin: 10px 0;
    }
    
    #novelToken {
      padding: 8px 12px;
      border: 1px solid #ddd;
      border-radius: 4px 0 0 4px;
      flex-grow: 1;
      max-width: 300px;
      font-family: monospace;
      background-color: #f9f9f9;
    }
    
    .copy-btn {
      padding: 8px 15px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 0 4px 4px 0;
      cursor: pointer;
    }
    
    .copy-btn:hover {
      background-color: #45a049;
    }
    
    .copy-message {
      display: none;
      color: #4CAF50;
      font-size: 14px;
      margin-top: 5px;
    }
    
    
</style>

<!-- JavaScript for enhanced mobile experience -->
<script>
  // Function to detect device type
  var userAgent = navigator.userAgent || navigator.vendor || window.opera;
    
    // Check if mobile device
    var isMobile = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(userAgent.toLowerCase());
    
    // Check if iOS
    var isIOS = /iphone|ipad|ipod/i.test(userAgent.toLowerCase());
    
    // Check if Android
    var isAndroid = /android/i.test(userAgent.toLowerCase());

  function detectDevice() {
    
    
    // Get button elements
    var androidBtn = document.getElementById("androidBtn");
    var iosBtn = document.getElementById("iosBtn");
    
    // Show appropriate buttons
    if (isMobile) {
      if (isIOS) {
        androidBtn.style.display = "none";
      } else if (isAndroid) {
        iosBtn.style.display = "none";
      } else {
        // Unknown mobile device, show both
        androidBtn.style.display = "flex";
        iosBtn.style.display = "flex";
      }
    } else {
      // Desktop/PC - show both buttons
      androidBtn.style.display = "flex";
      iosBtn.style.display = "flex";
    }
  }
  
  // Function to copy token
  function copyToken() {
    var tokenInput = document.getElementById("novelToken");
    tokenInput.select();
    document.execCommand("copy");
    
    var copyMessage = document.getElementById("copyMessage");
    copyMessage.style.display = "inline-block";
    
    setTimeout(function() {
      copyMessage.style.display = "none";
    }, 2000);
  }
  
  // Run device detection when page loads
  window.onload = detectDevice;

  function gtmTrackDownload(platform) {
    var novelName = document.querySelector('.novel-chapter header h1').textContent || 'Novel Master';
    var novelSubtitle = document.querySelector('.novel-chapter header h3')?.textContent || '';
    var token = document.getElementById('novelToken').value || '';
    var pageUrl = window.location.href;
    var pageTitle = document.title;
    var transactionId = 'app_' + platform.toLowerCase() + '_' + token + '_' + Date.now();

    var itemData = {
      item_id: pageUrl,
      item_name: novelName,
      item_variant: platform,
      price: 1,
      quantity: 1
    };
    
    
    window.dataLayer = window.dataLayer || [];
    window.dataLayer.push({
      'event': 'app_download',
      'app_platform': platform,
      'app_store': platform === 'Android' ? 'Google Play' : (platform === 'TOKEN'?'TOKEN':'App Store'),
      'novel_name': novelName,
      'novel_subtitle': novelSubtitle,
      'novel_token': token,
      'page_url': pageUrl,
      'page_title': pageTitle,
      'value': 1,
      'currency': 'CNY',
      'transaction_id': transactionId,
      'items': [itemData]
    });
    
    console.log('App download tracked:', platform, novelName);
  }

  const downloadLinks = {
    RealNovel:{
      IOS: {
        default: 'https://apps.apple.com/us/app/realnovel/id6683304338',
      },
      Android:{
        default: 'https://play.google.com/store/apps/details?id=com.sereal.ministory',
      }
    },
    NovelMaster:{
      IOS: {
        US: 'https://apps.apple.com/us/app/novel-master/id6446075788',
        PH: 'https://apps.apple.com/ph/app/novel-master/id6446075788',
        NG: 'https://apps.apple.com/ng/app/novel-master/id6446075788',
        MY: 'https://apps.apple.com/my/app/novel-master/id6446075788',
        CA: 'https://apps.apple.com/ca/app/novel-master/id6446075788',
        default: 'https://apps.apple.com/us/app/novel-master/id6446075788',
      },
      Android:{
        default: 'https://play.google.com/store/apps/details?id=com.master.novel',
      }
    }
    
  };
  var country = 'US';
  
  // Add lazy loading for the related novels' images
  document.addEventListener('DOMContentLoaded', function() {
    // Intersection Observer for lazy loading images
    if ('IntersectionObserver' in window) {
      const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const img = entry.target;
            const src = img.getAttribute('data-src');
            if (src) {
              img.src = src;
              img.removeAttribute('data-src');
            }
            observer.unobserve(img);
          }
        });
      });
      
      // Observe all related novel cover images
      document.querySelectorAll('.related-novel-cover img').forEach(img => {
        // Set data-src and use a placeholder or low-quality image as src
        const src = img.src;
        img.setAttribute('data-src', src);
        img.src = 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"%3E%3C/svg%3E';
        imageObserver.observe(img);
      });
    }
    
    // Add hover effects for touch devices
    document.querySelectorAll('.related-novel-card').forEach(card => {
      card.addEventListener('touchstart', function() {
        this.style.transform = 'translateY(-3px)';
        this.style.boxShadow = '0 5px 15px rgba(0, 0, 0, 0.15)';
      }, {passive: true});
      
      card.addEventListener('touchend', function() {
        setTimeout(() => {
          this.style.transform = '';
          this.style.boxShadow = '';
        }, 200);
      }, {passive: true});
    });

  const appname = {% if page.appname %}{{ page.appname | jsonify }}{% else %}"NovelMaster"{% endif %};

    
    //change downloadlink
    fetch('https://ipapi.co/json/')
    .then(res => res.json())
    .then(data => {
      country = data.country_code; // 比如 'US', 'CN', 'IN' 等
      let ioslink = downloadLinks[appname]['IOS']?.[country] || downloadLinks[appname]['IOS']?.default;
      document.getElementById("iosBtn").href = ioslink;
      let androidlink = downloadLinks[appname]['Android']?.[country] || downloadLinks[appname]['Android']?.default;
      document.getElementById("androidBtn").href = androidlink;
    });

      

  });
</script>